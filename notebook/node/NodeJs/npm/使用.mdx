---
title: 使用
pagination_prev: null

---

# npm

npm 是 Node.js 的包管理工具，随 Node.js 一起安装，主要提供依赖项管理功能。安装完 Node.js 后，可以使用 npm-v 命令检查 npm 的版本

npm 类似 Java 中的 Maven 、 Python 中的 pip 等，可以方便地管理 Node.js 项目中的依赖项，依赖项在项目中以 package.json 的形式显示。 npm
命令用来安装、更新、卸载模块或依赖。

## 安装

使用 npm install 命令安装模块。安装模块有两种模式：全局（ global ）模式和本地（ local ）模式。

## 全局模式

在命令行里的 npm install 命令后添加 -g 或者 -global 参数进行全局模式安装，如全局模式安装 Typescript 。

```sh
#  npm install -global typescript
npm install -g typescript
```

一旦全局模式安装完成后，用户可以在系统的任何地方使用该模块。

查看全局安装：

```sh
npm list -g
```

## 本地安装

本地模式安装区别于全局模式的地方就是不使用 -g 参数，如安装 Express 。

```sh
npm install express
```

在本地模式安装中，安装模块并将其保存为项目依赖（写入 package.json 文件）有两种场景。

保存依赖到 dependencies 节点信息中，在命令后添加 --save 参数：

```sh
npm install express --save
```

保存依赖到 devDependencies 节点信息中，在命令后添加 --save-dev 参数：

```sh
npm install express --save-dev
```

命令 install 可以简写为小写字母 i ， --save 参数可以简写为 -S （大写字母 S ）， --save dev 参数可以简写为 -D （大写字母 D ）：

## 更新模块

有时依赖关系会改变，如要添加一个新的模块，但是添加该模块要求其他模块具有较高的版本。

- 使用命令 npm update 更新指定模块。如果想要保存结果，还需要参照前面讲的本地模式更新。 package.json 文件也会保存新版本的信息。也可参照全局模式更新，则该命令将更新全局模式安装的模块

- 以编辑 package.json 文件，更新其中模块版本的依赖信息，然后执行 npm update 命令。这将更新模块以匹配此文件中的规范

## 卸载模块

执行 npm uninstall 命令卸载指定的模块。卸载模块与更新模块一样，也可以参照更新模块进行卸载。

```sh
npm uninstall express -g
```

## 项目中的 npm

## npm init # 初始化项目

## 启动项目

进入项目根目录下，输入如下命令启动 Node.js 项目。

```sh
node index.js
```

复制 Node.js 项目时，不要同时复制 node_modules 文件夹，否则会导致不可知的后果。如果要将项目从一台计算机复制到另一台计算机，请先删除 node_modules 文件夹，然后在目标计算机上执行
`npm install` 命令安装 Node.js 模块。

## 包安装

- 执行 npm install 命令安装指定模块
- 编辑 package.json 文件，然后执行 npm install 命令安装

手动编辑 package.json 文件是安装多个模块时的最佳方式。

安装时省略版本信息， npm 默认安装它的最新版本

## 常用命令

- `npm help` 帮助
- `npm install -s <package name>` 安装并保留插件信息
- `npm update -s <package name>`升级插件
- `npm cache clear` 清空本地的缓存
- `npm unpublish <package name>@<version>` 撤销自己发布的版本

            