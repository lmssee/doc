---
title: 会话 session


---

# 会话

## 安装

在安装 cookie-parser 后链入 express-session 。

```sh
npm i -s express-session // mac 新系统可能需要加后缀 --legacy-peer-deps
```

## 引入

```js
import Cookie from 'cookie-parser';
import Session from 'express-session';
app.use(Cookie)(credentials.cookieSecret);
app.use(Session());
```

中间件 express-session 接收以下选项的配置对象。

| 名称   | 默认                    | 说明                                                     |
| :----- | :---------------------- | :------------------------------------------------------- |
| key    | connect.id              | 存放唯一回话标识的 cookie 名称                           |
| store  | 一个 MemoryStore 的实例 | 会话储存了实例                                           |
| cookie | cookie 默认值           | 会话 cookie 的 cookie 设置（ path 、 domain 、 secure ） |

## 使用

```js
req.session.userName = 'Tom'; // 设置名称为 userName 的 session ，值为 Tom
```

## 移除

直接使用 delete 移除该属性即可。

```sh
delete req.session.userName;
```

            